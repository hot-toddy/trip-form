<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Employee Commuting Survey</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<form id="tripForm" action="https://script.google.com/macros/s/AKfycbwt11rJD68IwIJVazemrvNS7OFHLXajv6uyzt35K-5pewQhigZvkIp74R2TzTF2PC7Vtw/exec" method="POST">
  <h1>Employee Commuting Survey</h1>

    <!-- Total number of shifts -->
  <div>
    <label for="totalShifts">Total number of shifts for the recently finished financial year:</label>
    <input type="number" id="totalShifts" name="totalShifts" required>
  </div>

  
  <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
    <div><strong>Question / Trip Type</strong></div>
    <div><strong>Case 1</strong></div>
    <div><strong>Case 2</strong></div>
    <div><strong>Case 3</strong></div>

    <!-- Work Location -->
    <div>1) Work Location</div>
    <div>
      <select name="workLocation1">
        <option>Berriedale</option>
        <option>City</option>
        <option>Work from home</option>
      </select>
    </div>
    <div>
      <select name="workLocation2">
        <option>Berriedale</option>
        <option>City</option>
      </select>
    </div>
    <div>
      <select name="workLocation3">
        <option>Berriedale</option>
        <option>City</option>
      </select>
    </div>

    <!-- Distance -->
    <div>2) Distance (km one way)</div>
    <div><input type="number" name="distance1" /></div>
    <div><input type="number" name="distance2" /></div>
    <div><input type="number" name="distance3" /></div>

    <!-- Mode -->
    <div>3) Mode</div>
    <div>
      <select name="mode1">
        <option>Fossil car</option>
        <option>Electric car</option>
        <option>Uber/Taxi</option>
        <option>E-Bike</option>
        <option>Bus</option>
        <option>Walk</option>
        <option>Motorbike</option>
        <option>Bicycle</option>
      </select>
    </div>
    <div>
      <select name="mode2">
        <option>Fossil car</option>
        <option>Electric car</option>
        <option>Uber/Taxi</option>
        <option>E-Bike</option>
        <option>Bus</option>
        <option>Walk</option>
        <option>Motorbike</option>
        <option>Bicycle</option>
      </select>
    </div>
    <div>
      <select name="mode3">
        <option>Fossil car</option>
        <option>Electric car</option>
        <option>Uber/Taxi</option>
        <option>E-Bike</option>
        <option>Bus</option>
        <option>Walk</option>
        <option>Motorbike</option>
        <option>Bicycle</option>
      </select>
    </div>

    <!-- Shared Vehicle -->
    <div>4) How many other people shared the vehicle?</div>
    <div>
      <select name="shared1">
        <option>0</option>
        <option>1</option>
        <option>2</option>
        <option>3+</option>
      </select>
    </div>
    <div>
      <select name="shared2">
        <option>0</option>
        <option>1</option>
        <option>2</option>
        <option>3+</option>
      </select>
    </div>
    <div>
      <select name="shared3">
        <option>0</option>
        <option>1</option>
        <option>2</option>
        <option>3+</option>
      </select>
    </div>

    <!-- Proportion of Trips -->
    <div>5) Proportion of trips (%)</div>
    <div><input type="number" name="proportion1" /></div>
    <div><input type="number" name="proportion2" /></div>
    <div><input type="number" name="proportion3" /></div>
  </div>
  <button type="submit">Submit</button>
</form>

<script>
document.getElementById('tripForm').addEventListener('submit', function(event) {
  event.preventDefault();
  const proportion1 = parseInt(document.getElementsByName('proportion1')[0].value) || 0;
  const proportion2 = parseInt(document.getElementsByName('proportion2')[0].value) || 0;
  const proportion3 = parseInt(document.getElementsByName('proportion3')[0].value) || 0;
  const totalProportion = proportion1 + proportion2 + proportion3;

  if (totalProportion > 100) {
    alert('The total proportion of trips cannot exceed 100%. Please adjust your entries.');
  } else {
    this.submit();
  }
});
  
function checkWorkLocation(tripNumber) {
  var workLocation = document.getElementById('workLocation' + tripNumber).value;
  var disable = (workLocation === 'Work from home');

  document.getElementById('distance' + tripNumber).disabled = disable;
  document.getElementById('mode' + tripNumber).disabled = disable;
  document.getElementById('shared' + tripNumber).disabled = disable;
}
</script>
</body>
</html>
